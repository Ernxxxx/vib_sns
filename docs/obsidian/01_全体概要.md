# 全体概要

## 目的
- すれちがい通信をスマホで再現し、近くの人との偶然の出会いを楽しむ
- GPSとBLEを併用して「本当に近い人」を見つける体験を提供する
- 体験の軸は「出会いの記録」「共通の興味」「軽いソーシャル交流」

## 主要機能
- すれちがい検出（GPS + BLE）
- プロフィール作成/編集（自己紹介、出身地、好きなゲーム/ハッシュタグ）
- いいね/フォロー
- タイムラインで最近の出会いを表示
- マップで出会い地点の可視化
- QRコードでプロフィール共有

## 体験フロー
- アプリ起動 → 位置/BLE許可 → すれちがい検出開始
- 近くのユーザーを見つけると出会いイベントが追加
- 気になる相手にいいね/フォロー
- タイムラインで履歴を確認、マップで出会い場所を振り返る

## コア技術/ロジック
- Firestoreにpresenceを発行し、近距離ユーザーを検出
- GPS距離で候補を絞り、BLEで近接を補強
- 同一相手の連続検出はクールダウンで抑制

## 技術スタック
- Flutter
- Firebase Auth / Firestore
- Geolocator / BLE

## データの概要
- `profiles` にユーザープロフィール
- `streetpass_presences` に現在地とアクティブ状態

## 主な画面
- home_shell: タブ/ナビゲーションの入口
- encounters_screen: すれちがい一覧
- timeline_screen: 出会い履歴
- map_screen: 出会い地点

## 制約/前提
- 位置情報とBLEの権限が必須
- WebではBLE近接判定は使えない
- 電池消費とプライバシーへの配慮が必要

## 今後の拡張候補
- メッセージ機能
- プッシュ通知
- バッテリー最適化
- プライバシー機能（透明モード、ブロック）

## 参照
- [[02_アーキテクチャ]]
- [[03_データモデル]]
- [[04_API・サービス]]
- [[05_画面仕様]]
- [[07_条件・ルール]]
- [[08_開発履歴]]
- [[13_運用メモ]]
- [[11_テスト・検証]]
- [[09_意思決定ログ]]
- [[10_要件・優先度]]
- [[12_リリースノート]]
