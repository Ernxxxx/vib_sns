# 画面仕様

## HomeShell
- 役割: メインのタブナビゲーション
- タブ: タイムライン / 投稿作成 / 通知 / プロフィール
- 主要機能: タブ切替、投稿コンポーザ表示、FCM通知タップ遷移
- 依存: TimelineManager / NotificationManager / EncounterManager / FCMService

## _TimelineScreen（HomeShell内）
- 役割: タイムライン一覧とハイライト（すれちがい/共鳴/再会）
- 主な操作: 投稿表示、詳細遷移、いいね/リプライ、上部メトリクスから各一覧へ
- 依存: TimelineManager / EncounterManager

## EncounterListScreen
- 役割: すれちがい一覧（リスト/マップ）
- フィルタ: すれちがい / 再会 / 共鳴
- 主要機能: スキャン開始・再取得、リスト表示、マップ表示
- 依存: EncounterManager / StreetPassRuntimeConfig

## EncounterDetailScreen
- 役割: すれちがい詳細
- 主要機能: 相手プロフィール表示、いいね/フォロー、距離・時刻・メッセージ
- 依存: EncounterManager / TimelineManager / ProfileFollowListSheet

## ProfileViewScreen
- 役割: 他ユーザーのプロフィール閲覧
- 主要機能: フォロー/いいね、DM開始、タイムライン投稿一覧
- 依存: ProfileInteractionService / TimelineManager / FirestoreDmService

## ProfileEditScreen
- 役割: 自分のプロフィール編集
- 編集項目: 表示名、ユーザーID、自己紹介、出身地、ハッシュタグ、アバター
- 主要機能: 入力検証、画像選択、プロフィール同期
- 依存: LocalProfileLoader / ProfileInteractionService / EncounterManager

## ProfileFollowListSheet
- 役割: フォロワー/フォロー一覧のボトムシート
- 主要機能: 一覧表示、フォロー切替、プロフィール遷移
- 依存: ProfileInteractionService

## NotificationsScreen
- 役割: 通知一覧
- 主要機能: 既読化、プロフィール/投稿詳細への遷移
- 依存: NotificationManager / TimelineManager

## ConversationListScreen
- 役割: DM会話一覧
- 主要機能: 会話一覧、ピン留め/ミュート、削除
- 依存: FirestoreDmService / ProfileInteractionService

## ChatScreen
- 役割: DMチャット
- 主要機能: メッセージ送受信、画像送信、既読管理
- 依存: FirestoreDmService / Firebase Storage

## PostDetailScreen
- 役割: 投稿詳細とリプライツリー
- 主要機能: リプライ送信、返信先指定
- 依存: TimelineManager

## SettingsScreen
- 役割: 設定/アカウント管理
- 主要機能: プロフィール編集、ログアウト、アカウント削除、規約表示
- 依存: FirebaseAuth / FirebaseFunctions / LocalProfileLoader

## DownloadQrScreen
- 役割: アプリ配布用のQR表示
- 主要機能: DOWNLOAD_URLのQR生成/表示
- 依存: StreetPassRuntimeConfig

## WelcomeScreen
- 役割: 初回のランディング
- 主要機能: アニメーション演出、NameSetupScreenへ遷移

## NameSetupScreen
- 役割: ログイン/初期セットアップの入口
- 主要機能: メールログイン、Googleログイン、新規登録遷移
- 依存: FirebaseAuth / GoogleAuth / ProfileSetupModal

## DisplayNameLoginScreen
- 役割: 表示名のみでログイン
- 主要機能: 表示名入力 → セットアップ完了
- 依存: ProfileSetupModal / ProfileController

## RegisterAccountScreen
- 役割: 新規登録
- 主要機能: メール登録/Google登録、プロフィール初期設定
- 依存: FirebaseAuth / ProfileSetupModal

## TermsOfServiceScreen
- 役割: 利用規約の表示

## PrivacyPolicyScreen
- 役割: プライバシーポリシーの表示

## 参照
- [[04_API・サービス]]
